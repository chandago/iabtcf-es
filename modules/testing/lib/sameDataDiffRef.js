"use strict";var __values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0});var chai_1=require("chai"),isPrimitive_1=require("./isPrimitive");exports.sameDataDiffRef=function(e,t,i,r){var o,a;if(void 0!==e||void 0!==t){chai_1.expect(typeof e,"typeof "+i).to.equal(typeof t),chai_1.expect(e,i).not.to.equal(t);var n=new Set(Object.keys(e).concat(Object.keys(t)).filter((function(e){return e.indexOf("_")!==e.length-1})));Array.isArray(r)&&r.forEach((function(e){n.has(e)&&n.delete(e)}));try{for(var f=__values(n),c=f.next();!c.done;c=f.next()){var l=c.value;if(l.indexOf("_")!==l.length-1){var u=e[l],s=t[l],v=typeof u;if(chai_1.expect(typeof s,"typeof "+i+"->"+l).to.equal(v),void 0===u&&void 0===s)continue;if(isPrimitive_1.isPrimitive(u))chai_1.expect(s,i+"->"+l).to.equal(u);else if(u instanceof Date){var y=u.getTime(),h=s.getTime();chai_1.expect(h,i+"->"+l).to.be.within(y-100,y+100)}else exports.sameDataDiffRef(u,s,l,r)}}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}}};